"use strict";angular.module("crowdsurferApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.toggle"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("crowdsurferApp").controller("MainCtrl",["dataService",function(a){var b=this;this.sortByAmount=!0,this.fundingFilter="all",this.searchTerm="",this.data=[],a.fetch(function(a){b.data=a}),this.sortBy=function(){return b.sortByAmount?"-raised":"-end_time"},this.filterBy=function(a){return""==b.searchTerm||a.title.toLowerCase().includes(b.searchTerm.toLowerCase())?"all"==b.fundingFilter?!0:"reward"==b.fundingFilter&&"R"==a.funding_type?!0:"equity"==b.fundingFilter&&"E"==a.funding_type?!0:!1:!1}}]),angular.module("crowdsurferApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("crowdsurferApp").directive("projectSummary",function(){return{templateUrl:"partials/projectsummary.html",restrict:"E",scope:{project:"="},controller:function(){this.currencySymbol=function(a){return a?"GBP"==a?"Â£":"USD"==a?"$":a+" ":void 0}},controllerAs:"summary"}}),angular.module("crowdsurferApp").filter("fundTypeName",function(){return function(a){return"E"==a?"Equity":"R"==a?"Reward":void 0}}),angular.module("crowdsurferApp").filter("fundTypeClass",function(){return function(a){return"E"==a?"label-primary":"R"==a?"label-warning":"label-default"}}),angular.module("crowdsurferApp").filter("momentFromNow",function(){return function(a){return moment(a).fromNow()}}),angular.module("crowdsurferApp").service("dataService",["$http",function(a){this.fetch=function(b){var c=window.location.origin+window.location.pathname;a.get(c+"blockchain-projects.json").then(function(a){b(a.data)})}}]),angular.module("crowdsurferApp").run(["$templateCache",function(a){a.put("views/about.html","<div> <h1>About <em>The Crowsurfer Challenge</em></h1> <p>This project was set by <a href=\"https://www.crowdsurfer.com/info/\">Crowdsurfer</a> as part of their recruitment process for a front end engineer position. The project sepcifications are below.</p> <p>It was my first time using AngularJS, so I worked through the tutorial on <a href=\"https://www.codeschool.com/\">code school</a>. I used Yeoman as the seed project and set to work. The result is what you see when you click \"home\" in the navbar above.</p> <h1>The Challenge</h1> <h2>Backstory</h2> <p>Crowdsurfer collects data on millions of crowdfunding and peer-to-peer finance projects worldwide on a daily basis. This data is stored in MongoDB and analysed using an Elasticsearch cluster, and the results are used to feed our AngularJS 1.5.x app via a RESTful API.</p> <p></p> <h2>Your Mission</h2> <p>Create a simple AngularJS app that reads and displays a summary of the following snapshot of real project data (based on a query regarding Blockchain technologies):</p> <p></p> <p><a href=\"https://s3-eu-west-1.amazonaws.com/crowdsurfer-json-dumps/blockchain-projects.json\">https://s3-eu-west-1.amazonaws.com/crowdsurfer-json-dumps/blockchain-projects.json</a></p> <p></p> <p>Most of these fields should be self-explanatory apart from 'funding_type', which is either 'R' for a 'rewards' based project (e.g where the funder pledged a reward and is given an appropriate 'reward' based on the size of pledge) or 'E' for an equity-based project (which the funder is typically offered a percentage of the company).</p> <p></p> <p>It's up to you which fields you display in your summary, although I recommend using the 'description_summary' field instead of the 'description' field.</p> <p></p> <p>Some requirements:</p> <ul> <li>The http fetch should be defined as a Service or Factory</li> <li>Your answer should be composed using Components and / or Directives where possible (e.g the project summary should be defined as a reusable directive)</li> <li>The user should be able to sort by \"end_time<i>\"</i> <b>or</b> the amount \"raised<i>\"</i> fields</li> <li>The user should be able to filter on the \"funding_type\": display all projects, display only 'Rewards' projects or display only 'Equity' projects.</li> <li>You should create at least one unit test for your components (using the test framework of your choice)</li> </ul> <h2>Notes</h2> <ol> <li>We use SASS internally to tame the beast that is CSS but feel free to use vanilla CSS</li> <li>We're perfectly happy with you using an AngularJS seed project as your starting point (Yeoman <a href=\"https://github.com/yeoman/generator-angular\">https://github.com/yeoman/generator-angular</a> seems to be the most robust). You can of course just write your own from scratch. </li> </ol> <p></p> </div>"),a.put("views/main.html",'<div class="jumbotron"> <h2>Crowdfunded Blockchain Technologies</h2> <p class="lead"> Crowdsurfer collects data on millions of crowdfunding and peer-to-peer finance projects worldwide on a daily basis. </p> </div> <div class="row"> <div class="col-sm-12"> <div class="input-group"> <span class="input-group-addon"> <span class="glyphicon glyphicon-search"></span> </span> <input type="text" ng-model="main.searchTerm" placeholder="Search by project title" class="form-control"> </div> </div> </div> <br> <div class="row"> <div class="col-sm-4 form-horizontal"> <div class="form-group"> <label class="control-label col-sm-6">Sort by: </label> <toggle class="col-sm-6" ng-model="main.sortByAmount" on="Amount Raised" off="End Date" size="btn"></toggle> </div> </div> <div class="col-sm-8 form-horizontal"> <div class="form-group"> <label class="control-label col-sm-4">Funding type:</label> <div class="col-sm-8"> <select class="form-control" ng-model="main.fundingFilter"> <option value="all">Show All</option> <option value="reward">Reward Only</option> <option value="equity">Equity Only</option> </select> </div> </div> </div> </div> <div class="row marketing"> <div ng-repeat="item in main.data | filter : main.filterBy | orderBy : main.sortBy()"> <project-summary project="item"></project-summary> </div> </div>')}]);